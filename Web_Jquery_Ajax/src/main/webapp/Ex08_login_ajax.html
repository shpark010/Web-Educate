<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
	<script>
		/*  
		$.ajax() 함수를 사용해서 id 값 pwd 값 비동기로 전송하고
		그 결과에 따라서 : success , fail
		$('#message').html('<p>로그인 성공</p>')
		$('#message').html('<p>로그인 실패</p>')
		Jquery effect 효과 적용 (슬라이드 효과)
	
		parameter  연습   >> {}
		val() , text() , html() , attr() 연습
		effect > slideUp() , slideDown() 연습
		
		숨겨진 함정 : 넘어오는 데이터는 반드시 console 로 출력해서 확인 또 확인 ...
		if(result == 'success'){} ....
		*/
		$(function () {
			$('#login').click(function() {
				const user_id = $('#user_id').val();
				const user_pwd = $('#user_pwd').val();
				$.ajax(
					{
						url : "Ex08_loginok.jsp",
						type : "post", //xmlHttpRequest >> httpReq.open("POST","URL");
						data : {"user_id": user_id,"user_pwd" : user_pwd},
						dataType : "text", //서버가 클라이언트에게 응답하는 데이터 형식 Text(json,html,text,script),XML
						success : function(data) { // readyState==4 && status==200~299
							console.log(data);
							if(data.trim() =="success"){
								$('#message').html("<p>로그인 성공</p>");
							}else {
								$('#message').html('<p>로그인 실패</p>');
							}
						}
					}
				);
			});
			
        });
	</script>
</head>
<body>
<form id="form1" name="form1" action="" method="post">
		<table>
			<tr>
				<td>아이디</td>
				<td><input type='text' id='user_id' name='user_id' tabindex='1' /></td>
				<td rowspan='2'>
					<input type='button' id='login' tabindex='3' value='로그인' style='height: 50px' /></td>
			</tr>
			<tr>
				<td>비밀번호</td>
				<td><input type='password' id='user_pw' name='user_pwd' tabindex='2' /></td>
			</tr>
		</table>
	</form>
	<div id="message"></div>
</body>
</html>